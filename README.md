# ğŸ¦ ì€í–‰ ê³„ì¢Œ ê´€ë¦¬ ì‹œìŠ¤í…œ

<div align="center">

**Spring Boot ê¸°ë°˜ ì‹¤ë¬´ìš© ì€í–‰ ê³„ì¢Œ ê´€ë¦¬ ì‹œìŠ¤í…œ**

![Java](https://img.shields.io/badge/Java-21-orange)
![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.2.0-brightgreen)
![MyBatis](https://img.shields.io/badge/MyBatis-3.0.3-red)
![License](https://img.shields.io/badge/License-Educational-blue)

</div>

## ğŸ“‹ ê°œìš”

ì´ í”„ë¡œì íŠ¸ëŠ” **ì‹¤ë¬´ìš© ì€í–‰ ê³„ì¢Œ ê´€ë¦¬ ì‹œìŠ¤í…œ**ìœ¼ë¡œ, ê³„ì¢Œ ê°œì„¤, ì…ì¶œê¸ˆ, ì´ì²´, ê³ ê° ê´€ë¦¬, ê±°ë˜ ë‚´ì—­ ì¶”ì  ë“± ê¸ˆìœµ ì„œë¹„ìŠ¤ì˜ í•µì‹¬ ê¸°ëŠ¥ë“¤ì„ ì™„ë²½í•˜ê²Œ êµ¬í˜„í•©ë‹ˆë‹¤.

Spring Boot 3.2.0, Java 21, MyBatis ê¸°ë°˜ìœ¼ë¡œ êµ¬ì¶•ë˜ì—ˆìœ¼ë©°, íŠ¸ëœì­ì…˜ ë¡¤ë°±, ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜, ê°ì‚¬ ë¡œê·¸, ë¹„ë™ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬ ë“± ì—”í„°í”„ë¼ì´ì¦ˆ ìˆ˜ì¤€ì˜ ê¸°ëŠ¥ë“¤ì„ í¬í•¨í•©ë‹ˆë‹¤.

## âœ¨ í•µì‹¬ ê¸°ëŠ¥

### ğŸ¦ ì€í–‰ ì„œë¹„ìŠ¤
- **ê³„ì¢Œ ê°œì„¤**: ì…ì¶œê¸ˆ, ì ê¸ˆ, ì‹ ìš©, ì‚¬ì—…ì ê³„ì¢Œ ìƒì„±
- **ì…ì¶œê¸ˆ ì²˜ë¦¬**: ì‹¤ì‹œê°„ ì…ê¸ˆ/ì¶œê¸ˆ ê¸°ëŠ¥
- **ê³„ì¢Œ ì´ì²´**: ê³„ì¢Œ ê°„ ìê¸ˆ ì´ì²´ (ì›ìì„± ë³´ì¥)
- **ê±°ë˜ ë‚´ì—­**: ì‹¤ì‹œê°„ ê±°ë˜ ì¶”ì  ë° ìƒì„¸ ì¡°íšŒ
- **ê³„ì¢Œ ê´€ë¦¬**: ê³„ì¢Œ ë™ê²°, í™œì„±í™”, ìƒíƒœ ë³€ê²½

### ğŸ‘¥ ê³ ê° ê´€ë¦¬
- **ê³ ê° ë“±ë¡**: ê°œì¸/ë²•ì¸ ê³ ê° ë“±ë¡
- **ê³ ê° ì¡°íšŒ**: ê³ ê°ë³„ ê³„ì¢Œ ëª©ë¡ ì¡°íšŒ
- **ë¦¬ìŠ¤í¬ ê´€ë¦¬**: LOW/MEDIUM/HIGH ë¦¬ìŠ¤í¬ ë ˆë²¨ ë¶„ë¥˜
- **ê³ ê° ìƒíƒœ**: ACTIVE/INACTIVE/SUSPENDED/CLOSED ê´€ë¦¬

### ğŸ”’ ë³´ì•ˆ ë° ê°ì‚¬
- **ê°ì‚¬ ë¡œê·¸**: ê³„ì¢Œ/ê±°ë˜ ëª¨ë“  ì‘ì—…ì— ëŒ€í•œ ì™„ì „í•œ ê°ì‚¬ ì¶”ì 
- **ë¡œê·¸ì¸ ê¸°ë¡**: ëª¨ë“  ë¡œê·¸ì¸ ì‹œë„ì™€ ì‹¤íŒ¨ ê¸°ë¡
- **IP ì¶”ì **: í´ë¼ì´ì–¸íŠ¸ IP, User-Agent, Session ID ë¡œê¹…
- **ê±°ë˜ ì¶”ì **: GUID ê¸°ë°˜ ê±°ë˜ ì¶”ì 

### ğŸ”„ íŠ¸ëœì­ì…˜ ê´€ë¦¬
- **ì„ ì–¸ì  íŠ¸ëœì­ì…˜**: @Transactional ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ ê´€ë¦¬
- **ìë™ ë¡¤ë°±**: ê²°ì œ ì‹¤íŒ¨ ì‹œ íŠ¸ëœì­ì…˜ ìë™ ë¡¤ë°±
- **ë¡¤ë°± í›„ ì²˜ë¦¬**: @TransactionalEventListenerë¡œ ë¡¤ë°± í›„ ì•Œë¦¼ ë°œì†¡
- **ë…ë¦½ì  íŠ¸ëœì­ì…˜**: ì•Œë¦¼/ë¡œê·¸ë¥¼ ìœ„í•œ REQUIRES_NEW ì „íŒŒ

### âš¡ ì„±ëŠ¥ ìµœì í™”
- **ì „ëµì  ì¸ë±ìŠ¤**: 20ê°œ ì´ìƒì˜ ì„±ëŠ¥ ìµœì í™” ì¸ë±ìŠ¤
- **ìºì‹±**: GUID í ë¯¸ë¦¬ ìƒì„±ìœ¼ë¡œ ì„±ëŠ¥ í–¥ìƒ
- **ì—°ê²° í’€**: HikariCPë¡œ DB ì—°ê²° ìµœì í™”
- **MyBatis XML**: ë³µì¡í•œ ì¿¼ë¦¬ XMLì—ì„œ ê´€ë¦¬

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ
| ê¸°ìˆ  | ë²„ì „ | ì„¤ëª… |
|------|--------|------|
| **Java** | 21 | ìµœì‹  LTS ë²„ì „ |
| **Spring Boot** | 3.2.0 | Spring Boot 3.x |
| **MyBatis** | 3.0.3 | ORM Framework |
| **H2 Database** | 2.x | In-memory DB (ê°œë°œìš©) |
| **Gradle** | 8.5 | Build Tool |
| **Lombok** | Latest | ì½”ë“œ ìë™ ìƒì„± |
| **SLF4J** | 2.x | Logging Framework |

### í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬
```gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-jdbc'
    implementation 'org.springframework.boot:spring-boot-starter-validation'
    implementation 'org.mybatis.spring.boot:mybatis-spring-boot-starter:3.0.3'
    implementation 'com.h2database:h2'
    implementation 'org.projectlombok:lombok'
    implementation 'org.slf4j:slf4j-api'
}
```

### í”„ë¡ íŠ¸ì—”ë“œ
- **HTML5 + CSS3**: ì‹œë§¨í‹± ì›¹
- **Vanilla JavaScript (ES6+)**: ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸
- **Font Awesome 6.4.0**: ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- **Java 21** ì´ìƒ ì„¤ì¹˜
- **Gradle 7.0** ì´ìƒ
- **Git** (ì„ íƒ ì‚¬í•­)

### ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# 1. í”„ë¡œì íŠ¸ í´ë¡ 
git clone <repository-url>
cd rollback

# 2. ì˜ì¡´ì„± ë‹¤ìš´ë¡œë“œ ë° ë¹Œë“œ
./gradlew build

# 3. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
./gradlew bootRun
```

### ì ‘ì† ì •ë³´

| ì„œë¹„ìŠ¤ | URL | ì„¤ëª… |
|--------|-----|------|
| **ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜** | http://localhost:8080 | ì›¹ ì¸í„°í˜ì´ìŠ¤ |
| **H2 ì½˜ì†”** | http://localhost:8080/h2-console | ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ |
| **Base API** | http://localhost:8080/api/banking | REST API ë² ì´ìŠ¤ |

**H2 ì½˜ì†” ì ‘ì† ì •ë³´:**
- **JDBC URL**: `jdbc:h2:mem:testdb`
- **ì‚¬ìš©ìëª…**: `sa`
- **ë¹„ë°€ë²ˆí˜¸**: (ë¹„ì–´ìˆìŒ)

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### í•µì‹¬ í…Œì´ë¸” êµ¬ì¡°

#### 1. customers (ê³ ê° í…Œì´ë¸”)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ì œì•½ì¡°ê±´ |
|--------|------|-------------|-----------|
| id | BIGINT | ê¸°ë³¸ í‚¤ | PK, AUTO_INCREMENT |
| customer_number | VARCHAR(20) | ê³ ê° ë²ˆí˜¸ | UNIQUE, NOT NULL |
| name | VARCHAR(100) | ì„±ëª… | NOT NULL |
| email | VARCHAR(150) | ì´ë©”ì¼ | NOT NULL, CHECK (LIKE '%@%.%') |
| phone_number | VARCHAR(20) | ì—°ë½ì²˜ | NOT NULL |
| customer_type | VARCHAR(20) | ê³ ê° ìœ í˜• | CHECK (INDIVIDUAL, BUSINESS) |
| risk_level | VARCHAR(20) | ë¦¬ìŠ¤í¬ ë ˆë²¨ | CHECK (LOW, MEDIUM, HIGH) |
| status | VARCHAR(20) | ìƒíƒœ | CHECK (ACTIVE, INACTIVE, SUSPENDED, CLOSED) |
| created_at | TIMESTAMP | ìƒì„± ì‹œê°„ | DEFAULT CURRENT_TIMESTAMP |
| updated_at | TIMESTAMP | ìˆ˜ì • ì‹œê°„ | ON UPDATE CURRENT_TIMESTAMP |

#### 2. accounts (ê³„ì¢Œ í…Œì´ë¸”)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ì œì•½ì¡°ê±´ |
|--------|------|-------------|-----------|
| id | BIGINT | ê¸°ë³¸ í‚¤ | PK, AUTO_INCREMENT |
| account_number | VARCHAR(30) | ê³„ì¢Œë²ˆí˜¸ | UNIQUE, NOT NULL |
| customer_id | BIGINT | ê³ ê° ID | FK customers(id) |
| account_type | VARCHAR(20) | ê³„ì¢Œ ìœ í˜• | CHECK (CHECKING, SAVINGS, CREDIT, BUSINESS) |
| currency | VARCHAR(10) | í†µí™” | DEFAULT 'KRW' |
| balance | DECIMAL(19,2) | ì”ì•¡ | NOT NULL, DEFAULT 0.00, CHECK (>= 0) |
| overdraft_limit | DECIMAL(19,2) | ì´ˆê³¼í•œë„ | NOT NULL, DEFAULT 0.00, CHECK (>= 0) |
| account_holder_name | VARCHAR(100) | ì˜ˆê¸ˆì£¼ëª… | NOT NULL |
| branch_code | VARCHAR(10) | ì§€ì  ì½”ë“œ | - |
| status | VARCHAR(20) | ê³„ì¢Œ ìƒíƒœ | CHECK (ACTIVE, FROZEN, CLOSED, SUSPENDED) |
| daily_transaction_limit | DECIMAL(19,2) | ì¼ì¼ ê±°ë˜ í•œë„ | DEFAULT 1000000.00 |
| monthly_transaction_limit | DECIMAL(19,2) | ì›”ê°„ ê±°ë˜ í•œë„ | DEFAULT 5000000.00 |
| daily_transaction_amount | DECIMAL(19,2) | ì¼ì¼ ê±°ë˜ ê¸ˆì•¡ | DEFAULT 0.00 |
| monthly_transaction_amount | DECIMAL(19,2) | ì›”ê°„ ê±°ë˜ ê¸ˆì•¡ | DEFAULT 0.00 |
| created_at | TIMESTAMP | ìƒì„± ì‹œê°„ | DEFAULT CURRENT_TIMESTAMP |
| updated_at | TIMESTAMP | ìˆ˜ì • ì‹œê°„ | ON UPDATE CURRENT_TIMESTAMP |

#### 3. transactions (ê±°ë˜ í…Œì´ë¸”)

| ì»¬ëŸ¼ | íƒ€ì… | ì„¤ëª… | ì œì•½ì¡°ê±´ |
|--------|------|-------------|-----------|
| id | BIGINT | ê¸°ë³¸ í‚¤ | PK, AUTO_INCREMENT |
| guid | VARCHAR(36) | ê±°ë˜ ì¶”ì  ID | UNIQUE |
| from_account_id | BIGINT | ì¶œê¸ˆ ê³„ì¢Œ | FK accounts(id) |
| to_account_id | BIGINT | ì…ê¸ˆ ê³„ì¢Œ | FK accounts(id) |
| customer_id | BIGINT | ê³ ê° ID | FK customers(id) |
| transaction_type | VARCHAR(20) | ê±°ë˜ ìœ í˜• | CHECK (DEPOSIT, WITHDRAWAL, TRANSFER, FEE, INTEREST, PENALTY) |
| amount | DECIMAL(19,2) | ê±°ë˜ ê¸ˆì•¡ | NOT NULL, CHECK (> 0) |
| currency | VARCHAR(10) | í†µí™” | DEFAULT 'KRW' |
| description | VARCHAR(500) | ì ìš” | - |
| status | VARCHAR(20) | ê±°ë˜ ìƒíƒœ | CHECK (PENDING, COMPLETED, FAILED, CANCELLED, REVERSED) |
| reference_number | VARCHAR(50) | ì°¸ì¡°ë²ˆí˜¸ | - |
| failure_reason | VARCHAR(500) | ì‹¤íŒ¨ ì‚¬ìœ  | - |
| ip_address | VARCHAR(45) | í´ë¼ì´ì–¸íŠ¸ IP | ë³´ì•ˆ ë¡œê¹… |
| device_info | VARCHAR(100) | ë””ë°”ì´ìŠ¤ ì •ë³´ | ë³´ì•ˆ ë¡œê¹… |
| transaction_channel | VARCHAR(20) | ê±°ë˜ ì±„ë„ | CHECK (ONLINE, MOBILE, ATM, BRANCH, API) |
| transaction_category | VARCHAR(30) | ê±°ë˜ ì¹´í…Œê³ ë¦¬ | - |
| fee_amount | DECIMAL(19,2) | ìˆ˜ìˆ˜ë£Œ | DEFAULT 0.00, CHECK (>= 0) |
| balance_after | DECIMAL(19,2) | ê±°ë˜ í›„ ì”ì•¡ | - |
| created_by | VARCHAR(50) | ìƒì„±ì | - |
| approved_by | VARCHAR(50) | ìŠ¹ì¸ì | - |
| approved_at | TIMESTAMP | ìŠ¹ì¸ ì‹œê°„ | - |
| created_at | TIMESTAMP | ìƒì„± ì‹œê°„ | DEFAULT CURRENT_TIMESTAMP |
| completed_at | TIMESTAMP | ì™„ë£Œ ì‹œê°„ | - |

#### 4. ê°ì‚¬ ë¡œê·¸ í…Œì´ë¸”

**account_audit_log** (ê³„ì¢Œ ê°ì‚¬):
- ê³„ì¢Œ ëª¨ë“  ì‘ì—… (INSERT, UPDATE, DELETE, FREEZE, ACTIVATE) ê¸°ë¡
- old_values, new_values (JSON)ë¡œ ë³€ê²½ ì „í›„ ë°ì´í„° ì €ì¥

**transaction_audit_log** (ê±°ë˜ ê°ì‚¬):
- ê±°ë˜ ë¼ì´í”„ì‚¬ì´í´ (CREATE, COMPLETE, FAIL, CANCEL, REVERSE, APPROVE, REJECT) ê¸°ë¡
- ìƒíƒœ ë³€ê²½ ì´ë ¥ ì¶”ì 

**login_logs** (ë¡œê·¸ì¸ ê¸°ë¡):
- ëª¨ë“  ë¡œê·¸ì¸ ì‹œë„ (SUCCESS, FAILED, LOCKED, SUSPICIOUS) ê¸°ë¡
- IP ì£¼ì†Œ, User-Agent, ì„¸ì…˜ ID ì €ì¥

### ì¸ë±ìŠ¤ ì „ëµ

#### ì„±ëŠ¥ ìµœì í™” ì¸ë±ìŠ¤

```sql
-- ê³ ê° ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_customers_customer_number ON customers(customer_number);
CREATE INDEX idx_customers_email ON customers(email);
CREATE INDEX idx_customers_status ON customers(status);
CREATE INDEX idx_customers_risk_level ON customers(risk_level);

-- ê³„ì¢Œ ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_accounts_customer_id ON accounts(customer_id);
CREATE INDEX idx_accounts_account_number ON accounts(account_number);
CREATE INDEX idx_accounts_status ON accounts(status);
CREATE INDEX idx_accounts_account_type ON accounts(account_type);
CREATE INDEX idx_accounts_created_at ON accounts(created_at);

-- ê±°ë˜ ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_transactions_from_account ON transactions(from_account_id);
CREATE INDEX idx_transactions_to_account ON transactions(to_account_id);
CREATE INDEX idx_transactions_customer ON transactions(customer_id);
CREATE INDEX idx_transactions_created_at ON transactions(created_at);
CREATE INDEX idx_transactions_status ON transactions(status);
CREATE INDEX idx_transactions_type ON transactions(transaction_type);
CREATE INDEX idx_transactions_guid ON transactions(guid);
CREATE INDEX idx_transactions_reference ON transactions(reference_number);

-- ê°ì‚¬ ë¡œê·¸ ì¸ë±ìŠ¤
CREATE INDEX idx_account_audit_account_id ON account_audit_log(account_id);
CREATE INDEX idx_account_audit_changed_at ON account_audit_log(changed_at);
CREATE INDEX idx_transaction_audit_transaction_id ON transaction_audit_log(transaction_id);
CREATE INDEX idx_transaction_audit_account_id ON transaction_audit_log(account_id);
CREATE INDEX idx_login_logs_customer_id ON login_logs(customer_id);
CREATE INDEX idx_login_logs_login_at ON login_logs(login_at);
CREATE INDEX idx_login_logs_status ON login_logs(login_status);
CREATE INDEX idx_login_logs_ip_address ON login_logs(ip_address);
```

## ğŸ“¡ API ì—”ë“œí¬ì¸íŠ¸

### Base URL
```
http://localhost:8080/api/banking
```

### ê³„ì¢Œ ê´€ë¦¬ API

#### 1. ê³„ì¢Œ ê°œì„¤

```http
POST /api/banking/accounts
Content-Type: application/json

{
  "customerId": 1,
  "accountHolderName": "ê¹€ì² ìˆ˜",
  "accountType": "CHECKING",
  "currency": "KRW",
  "initialDeposit": 100000,
  "branchCode": "001",
  "forceFailure": false
}
```

**ì‘ë‹µ (ì„±ê³µ)**:
```json
{
  "success": true,
  "guid": "35FG8GN5A6D00001",
  "message": "ê³„ì¢Œê°€ ì„±ê³µì ìœ¼ë¡œ ê°œì„¤ë˜ì—ˆìŠµë‹ˆë‹¤",
  "account": {
    "id": 1,
    "accountNumber": "ACC17067798901234",
    "customerId":1,
    "accountHolderName": "ê¹€ì² ìˆ˜",
    "accountType": "CHECKING",
    "currency": "KRW",
    "balance": 100000.00,
    "status": "ACTIVE",
    "createdAt": "2026-02-01T14:30:00"
  }
}
```

**ì‘ë‹µ (ì‹¤íŒ¨)**:
```json
{
  "success": false,
  "message": "ê³„ì¢Œ ê°œì„¤ ì‹¤íŒ¨: ê³ ê°ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
}
```

#### 2. ì „ì²´ ê³„ì¢Œ ì¡°íšŒ

```http
GET /api/banking/accounts
```

**ì‘ë‹µ**:
```json
[
  {
    "id": 1,
    "accountNumber": "ACC17067798901234",
    "customerName": "ê¹€ì² ìˆ˜",
    "accountType": "CHECKING",
    "balance": 100000.00,
    "status": "ACTIVE",
    "createdAt": "2026-02-01T14:30:00"
  }
]
```

#### 3. íŠ¹ì • ê³„ì¢Œ ì¡°íšŒ

```http
GET /api/banking/accounts/{id}
```

#### 4. ê³ ê°ë³„ ê³„ì¢Œ ì¡°íšŒ

```http
GET /api/banking/accounts/customer/{customerId}
```

### ê±°ë˜ ì²˜ë¦¬ API

#### 1. ì…ê¸ˆ

```http
POST /api/banking/deposit
Content-Type: application/json

{
  "accountId": 1,
  "customerId": 1,
  "amount": 50000,
  "currency": "KRW",
  "description": "ì›”ê¸‰ ì…ê¸ˆ",
  "forceFailure": false
}
```

**ì‘ë‹µ (ì„±ê³µ)**:
```json
{
  "success": true,
  "guid": "35FG8GN5A6D00002",
  "message": "ì…ê¸ˆì´ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤",
  "transaction": {
    "id": 1,
    "guid": "35FG8GN5A6D00002",
    "toAccountId": 1,
    "transactionType": "DEPOSIT",
    "amount": 50000.00,
    "status": "COMPLETED",
    "referenceNumber": "REF123456789"
  }
}
```

#### 2. ì´ì²´

```http
POST /api/banking/transfer
Content-Type: application/json

{
  "fromAccountId": 1,
  "toAccountId": 2,
  "customerId": 1,
  "amount": 100000,
  "currency": "KRW",
  "description": "ì´ì²´",
  "forceFailure": false
}
```

**ì‘ë‹µ (ì„±ê³µ)**:
```json
{
  "success": true,
  "guid": "35FG8GN5A6D00003",
  "message": "ì´ì²´ê°€ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤",
  "transaction": {
    "id": 2,
    "guid": "35FG8GN5A6D00003",
    "fromAccountId": 1,
    "toAccountId": 2,
    "transactionType": "TRANSFER",
    "amount": 100000.00,
    "status": "COMPLETED"
  }
}
```

### ê³ ê° ê´€ë¦¬ API

#### 1. ê³ ê° ë“±ë¡

```http
POST /api/banking/customers
Content-Type: application/json

{
  "name": "ì´ì˜í¬",
  "email": "leeyounghee@example.com",
  "phoneNumber": "010-2345-6789",
  "customerType": "INDIVIDUAL",
  "address": "ì„œìš¸ì‹œ ì„œì´ˆêµ¬ ê°•ë‚¨ëŒ€ë¡œ 456",
  "riskLevel": "LOW"
}
```

**ì‘ë‹µ (ì„±ê³µ)**:
```json
{
  "success": true,
  "guid": "35FG8GN5A6D00004",
  "message": "ê³ ê°ì´ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤",
  "customer": {
    "id": 4,
    "customerNumber": "CUST17067798905678",
    "name": "ì´ì˜í¬",
    "email": "leeyounghee@example.com",
    "phoneNumber": "010-2345-6789",
    "customerType": "INDIVIDUAL",
    "riskLevel": "LOW",
    "status": "ACTIVE",
    "createdAt": "2026-02-01T14:31:00"
  }
}
```

#### 2. ì „ì²´ ê³ ê° ì¡°íšŒ

```http
GET /api/banking/customers
```

#### 3. íŠ¹ì • ê³ ê° ì¡°íšŒ

```http
GET /api/banking/customers/{id}
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/main/java/com/example/rollback/
â”œâ”€â”€ RollbackApplication.java              # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ AsyncConfig.java                 # ë¹„ë™ê¸° ì²˜ë¦¬ ì„¤ì • (@EnableAsync)
â”‚   â”œâ”€â”€ ContextFilter.java               # GUID ì»¨í…ìŠ¤íŠ¸ í•„í„°
â”‚   â””â”€â”€ RetryConfig.java                # ì¬ì‹œë„ ë¹ˆ ì„¤ì •
â”œâ”€â”€ controller/
â”‚   â”œâ”€â”€ BankingController.java            # ì€í–‰ API ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â””â”€â”€ CustomerController.java           # ê³ ê° ê´€ë¦¬ ì»¨íŠ¸ë¡¤ëŸ¬
â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ AccountStatus.java               # ê³„ì¢Œ ìƒíƒœ ì—´ê±°í˜•
â”‚   â”œâ”€â”€ AccountType.java                 # ê³„ì¢Œ ìœ í˜• ì—´ê±°í˜•
â”‚   â”œâ”€â”€ Account.java                     # ê³„ì¢Œ ì—”í‹°í‹°
â”‚   â”œâ”€â”€ AccountRequest.java              # ê³„ì¢Œ ê°œì„¤ ìš”ì²­ DTO
â”‚   â”œâ”€â”€ TransactionStatus.java           # ê±°ë˜ ìƒíƒœ ì—´ê±°í˜•
â”‚   â”œâ”€â”€ TransactionType.java             # ê±°ë˜ ìœ í˜• ì—´ê±°í˜•
â”‚   â”œâ”€â”€ Transaction.java                  # ê±°ë˜ ì—”í‹°í‹°
â”‚   â”œâ”€â”€ DepositRequest.java              # ì…ê¸ˆ ìš”ì²­ DTO
â”‚   â”œâ”€â”€ TransferRequest.java             # ì´ì²´ ìš”ì²­ DTO
â”‚   â”œâ”€â”€ CustomerStatus.java             # ê³ ê° ìƒíƒœ ì—´ê±°í˜•
â”‚   â”œâ”€â”€ CustomerType.java               # ê³ ê° ìœ í˜• ì—´ê±°í˜•
â”‚   â”œâ”€â”€ RiskLevel.java                  # ë¦¬ìŠ¤í¬ ë ˆë²¨ ì—´ê±°í˜•
â”‚   â”œâ”€â”€ Customer.java                   # ê³ ê° ì—”í‹°í‹°
â”‚   â””â”€â”€ CustomerRequest.java            # ê³ ê° ë“±ë¡ ìš”ì²­ DTO
â”œâ”€â”€ repository/
â”‚   â”œâ”€â”€ AccountRepository.java            # ê³„ì¢Œ MyBatis ë§¤í¼
â”‚   â”œâ”€â”€ CustomerRepository.java           # ê³ ê° MyBatis ë§¤í¼
â”‚   â”œâ”€â”€ TransactionRepository.java        # ê±°ë˜ MyBatis ë§¤í¼
â”‚   â””â”€â”€ NotificationLogRepository.java   # ì•Œë¦¼ ë¡œê·¸ ë§¤í¼
â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ AccountService.java             # ê³„ì¢Œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (@Transactional)
â”‚   â”œâ”€â”€ CustomerService.java            # ê³ ê° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (@Transactional)
â”‚   â””â”€â”€ PaymentClient.java             # ì™¸ë¶€ ê²°ì œ ì‹œë®¬ë ˆì´ì…˜
â”œâ”€â”€ event/
â”‚   â”œâ”€â”€ TransactionFailed.java           # ê±°ë˜ ì‹¤íŒ¨ ì´ë²¤íŠ¸
â”‚   â”œâ”€â”€ TransactionFailureHandler.java    # ì‹¤íŒ¨ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (@Async, AFTER_ROLLBACK)
â”‚   â””â”€â”€ OrderFailed.java              # ì£¼ë¬¸ ì‹¤íŒ¨ ì´ë²¤íŠ¸ (legacy)
â”œâ”€â”€ retry/
â”‚   â”œâ”€â”€ RetryStrategy.java             # ì¬ì‹œë„ ì „ëµ ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ LinearBackoffRetryStrategy.java # ì„ í˜• ì¦ê°€ ë°±ì˜¤í”„ ì „ëµ
â”‚   â”œâ”€â”€ LockRetryTemplate.java         # ì¬ì‹œë„ í…œí”Œë¦¿
â”‚   â””â”€â”€ RetryableException.java       # ì¬ì‹œë„ ê°€ëŠ¥ ì˜ˆì™¸
â”œâ”€â”€ exception/
â”‚   â”œâ”€â”€ PaymentException.java          # ê²°ì œ ê´€ë ¨ ì˜ˆì™¸
â”‚   â””â”€â”€ OrderException.java           # ì£¼ë¬¸ ê´€ë ¨ ì˜ˆì™¸
â””â”€â”€ util/
    â”œâ”€â”€ ContextHolder.java            # GUID ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬
    â”œâ”€â”€ CtxMap.java                  # ì»¨í…ìŠ¤íŠ¸ ë§µ
    â”œâ”€â”€ GuidQueue.java               # GUID í
    â””â”€â”€ GuidQueueUtil.java           # GUID ìœ í‹¸ë¦¬í‹°

src/main/resources/
â”œâ”€â”€ schema.sql                           # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ application.yml                      # ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
â”œâ”€â”€ mapper/                             # MyBatis SQL ë§¤í•‘
â”‚   â”œâ”€â”€ AccountMapper.xml
â”‚   â”œâ”€â”€ CustomerMapper.xml
â”‚   â”œâ”€â”€ TransactionMapper.xml
â”‚   â””â”€â”€ NotificationLogMapper.xml
â””â”€â”€ static/
    â”œâ”€â”€ banking.html                       # ë©”ì¸ ì›¹ í˜ì´ì§€
    â”œâ”€â”€ banking-style.css                 # ì€í–‰ ìŠ¤íƒ€ì¼
    â””â”€â”€ banking-script.js                 # í”„ë¡ íŠ¸ì—”ë“œ ë¡œì§
```

## ğŸ¨ í•µì‹¬ ë””ìì¸ íŒ¨í„´

### 1. Repository íŒ¨í„´

```java
// AccountRepository.java
@Mapper
public interface AccountRepository {
    Account findById(Long id);
    void save(Account account);
    List<Account> findByCustomerId(Long customerId);
    void updateBalance(Account account);
}
```

**íŠ¹ì§•**:
- Repository ì¸í„°í˜ì´ìŠ¤ì™€ MyBatis XML ë§¤í•‘ìœ¼ë¡œ ë°ì´í„° ì ‘ê·¼ ë¶„ë¦¬
- ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP) ì¤€ìˆ˜
- í…ŒìŠ¤íŠ¸ ìš©ì´ì„± í™•ë³´

### 2. Service íŒ¨í„´

```java
@Service
@Transactional
@RequiredArgsConstructor
public class AccountService {
    private final AccountRepository accountRepository;
    private final TransactionRepository transactionRepository;
    private final PaymentClient paymentClient;
    private final ApplicationEventPublisher events;

    public Account createAccount(AccountRequest request) {
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
        Account account = request.toAccount(accountNumber);
        accountRepository.save(account);

        // ì´ˆê¸° ì…ê¸ˆ ì²˜ë¦¬
        Transaction transaction = Transaction.createDeposit(...);
        transactionRepository.save(transaction);

        try {
            paymentClient.processPayment(guid, transactionId, amount, forceFailure);
            account.deposit(amount);
            accountRepository.updateBalance(account);
            transaction.complete();
            return account;
        } catch (Exception e) {
            // ì´ë²¤íŠ¸ ë°œí–‰ (ë¡¤ë°± í›„ ì²˜ë¦¬)
            events.publishEvent(new TransactionFailed(..., transactionId, e.getMessage()));
            throw e;
        }
    }
}
```

**íŠ¹ì§•**:
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì„œë¹„ìŠ¤ ë ˆì´ì–´ì—ì„œ ìº¡ìŠí™”
- @Transactionalë¡œ ì„ ì–¸ì  íŠ¸ëœì­ì…˜ ê´€ë¦¬
- ì´ë²¤íŠ¸ ê¸°ë°˜ ë¡¤ë°± í›„ ì²˜ë¦¬

### 3. ì „ëµ íŒ¨í„´ (Strategy Pattern)

```java
// RetryStrategy ì¸í„°í˜ì´ìŠ¤
public interface RetryStrategy {
    boolean shouldRetry(Exception e, int attemptCount);
    long getWaitTime(int attemptCount);
}

// ì„ í˜• ì¦ê°€ ë°±ì˜¤í”„ ì „ëµ
@Component
public class LinearBackoffRetryStrategy implements RetryStrategy {
    private final int maxAttempts = 5;
    private final long initialDelay = 1000;
    private final long increment = 500;

    @Override
    public boolean shouldRetry(Exception e, int attemptCount) {
        return attemptCount < maxAttempts && e instanceof PaymentException;
    }

    @Override
    public long getWaitTime(int attemptCount) {
        return initialDelay + (increment * (attemptCount - 1));
    }
}
```

**íŠ¹ì§•**:
- RetryStrategy ì¸í„°í˜ì´ìŠ¤ë¡œ ë‹¤ì–‘í•œ ì¬ì‹œë„ ì „ëµ êµ¬í˜„ ê°€ëŠ¥
- ìƒˆë¡œìš´ ì „ëµ ì¶”ê°€ê°€ ìš©ì´í•œ í™•ì¥ì„±
- LinearBackoffRetryStrategyë¡œ 1000ms â†’ 1500ms â†’ 2000ms â†’ ... ì¦ê°€

### 4. í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´

```java
@Component
public class LockRetryTemplate {
    private final RetryStrategy retryStrategy;

    public <T> T execute(Supplier<T> action) {
        int attempt = 0;
        while (true) {
            attempt++;
            try {
                return action.get();
            } catch (Exception e) {
                if (retryStrategy.shouldRetry(e, attempt)) {
                    long waitTime = retryStrategy.getWaitTime(attempt);
                    Thread.sleep(waitTime);
                    continue;
                } else {
                    throw e;
                }
            }
        }
    }
}
```

**íŠ¹ì§•**:
- ì¬ì‹œë„ ë¡œì§ ì¬ì‚¬ìš©
- Supplier<T>ë¡œ ì‹¤í–‰ ë¡œì§ ì¶”ìƒí™”
- ì „ëµ íŒ¨í„´ê³¼ ê²°í•©ìœ¼ë¡œ ìœ ì—°ì„± í™•ë³´

### 5. ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜

```java
// ì´ë²¤íŠ¸ ë°œí–‰
@Service
public class AccountService {
    private final ApplicationEventPublisher events;

    @Transactional
    public Transaction transfer(TransferRequest request) {
        try {
            // ì´ì²´ ì²˜ë¦¬
            return transaction;
        } catch (Exception e) {
            // ì´ë²¤íŠ¸ ë°œí–‰ (ë¡¤ë°± í›„ ì²˜ë¦¬)
            events.publishEvent(new TransactionFailed(context, transactionId, e.getMessage()));
            throw e;
        }
    }
}

// ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
@Component
@RequiredArgsConstructor
public class TransactionFailureHandler {
    private final NotificationService notifier;

    @TransactionalEventListener(phase = TransactionPhase.AFTER_ROLLBACK)
    @Async
    public void handle(TransactionFailed event) {
        // ë¡¤ë°± ì™„ë£Œ í›„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰
        notifier.sendTransactionFailure(event.getTransactionId(), event.getReason());
    }
}
```

**íŠ¹ì§•**:
- Springì˜ ApplicationEventPublisherë¡œ ì´ë²¤íŠ¸ ë°œí–‰
- @TransactionalEventListener(phase = AFTER_ROLLBACK)ë¡œ ë¡¤ë°± í›„ ì²˜ë¦¬
- @Asyncë¡œ ë©”ì¸ ìŠ¤ë ˆë“œ ë¸”ë¡œí‚¹ ë°©ì§€

### 6. íŠ¸ëœì­ì…˜ ê´€ë¦¬

```java
// ê¸°ë³¸ íŠ¸ëœì­ì…˜
@Transactional
public Transaction deposit(DepositRequest request) {
    // ë™ì¼ íŠ¸ëœì­ì…˜ì—ì„œ ì‹¤í–‰
}

// ë…ë¦½ì  íŠ¸ëœì­ì…˜ (ì•Œë¦¼ìš©)
@Service
public class NotificationService {
    @Transactional(propagation = Propagation.REQUIRES_NEW)
    public void sendTransactionFailure(Long transactionId, String reason) {
        // ì™„ì „íˆ ë³„ë„ì˜ íŠ¸ëœì­ì…˜ì—ì„œ ì‹¤í–‰
        // ë©”ì¸ íŠ¸ëœì­ì…˜ ê²°ê³¼ì™€ ìƒê´€ì—†ì´ ë°ì´í„° ì˜ì†ì„± ë³´ì¥
    }
}
```

### 7. Context ì „íŒŒ íŒ¨í„´

```java
// ContextHolder
public class ContextHolder {
    private static final ThreadLocal<Map<String, Object>> context = new ThreadLocal<>();

    public static void initializeContext(String guid) {
        Map<String, Object> map = new HashMap<>();
        map.put("guid", guid);
        context.set(map);
    }

    public static void addClientInfo(String ip, String userAgent, String sessionId) {
        Map<String, Object> map = context.get();
        if (map != null) {
            map.put("clientIp", ip);
            map.put("userAgent", userAgent);
            map.put("sessionId", sessionId);
        }
    }

    public static Map<String, Object> copyContext() {
        return context.get();
    }

    public static void clearContext() {
        context.remove();
    }
}

// ì‚¬ìš© ì˜ˆì‹œ
@RestController
public class BankingController {
    @PostMapping("/accounts")
    public ResponseEntity<?> createAccount(HttpServletRequest httpRequest) {
        String guid = guidQueueUtil.getGUID();
        ContextHolder.initializeContext(guid);

        String clientIp = getClientIp(httpRequest);
        String userAgent = httpRequest.getHeader("User-Agent");
        String sessionId = httpRequest.getSession().getId();
        ContextHolder.addClientInfo(clientIp, userAgent, sessionId);

        try {
            // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
            return ResponseEntity.ok(...);
        } finally {
            ContextHolder.clearContext();
        }
    }
}
```

**íŠ¹ì§•**:
- ThreadLocalë¡œ ìŠ¤ë ˆë“œ ì•ˆì „í•œ ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬
- GUID ê¸°ë°˜ ìš”ì²­ ì¶”ì 
- IP, User-Agent, Session ì •ë³´ ìº¡ìŠˆ

## ğŸ”„ íŠ¸ëœì­ì…˜ íë¦„ ë¶„ì„

### ì„±ê³µ ì‹œë‚˜ë¦¬ì˜¤ (ì…ê¸ˆ)

```
1. BankingController.deposit() ìš”ì²­ ìˆ˜ì‹ 
2. GUID ìƒì„± ë° Context ì´ˆê¸°í™”
3. AccountService.deposit() íŠ¸ëœì­ì…˜ ì‹œì‘
4. ê³„ì¢Œ í™•ì¸ (status = ACTIVE ì²´í¬)
5. Transaction ìƒì„± (status = PENDING)
6. PaymentClient.processPayment() í˜¸ì¶œ
   â†’ LockRetryTemplate.execute() ì‹¤í–‰
   â†’ ê²°ì œ ì„±ê³µ
7. ê³„ì¢Œ ì”ì•¡ ì¦ê°€
8. ê³„ì¢Œ balance ì—…ë°ì´íŠ¸
9. Transaction ìƒíƒœ ë³€ê²½ (PENDING â†’ COMPLETED)
10. íŠ¸ëœì­ì…˜ ì»¤ë°‹
11. Context ì •ë¦¬
```

### ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤ (ì´ì²´, ì¬ì‹œë„ í¬í•¨)

```
1. BankingController.transfer() ìš”ì²­ ìˆ˜ì‹ 
2. GUID ìƒì„± ë° Context ì´ˆê¸°í™”
3. AccountService.transfer() íŠ¸ëœì­ì…˜ ì‹œì‘
4. ì¶œê¸ˆ/ì…ê¸ˆ ê³„ì¢Œ í™•ì¸
5. ì¶œê¸ˆ ê³„ì¢Œ ì”ì•¡ í™•ì¸
6. Transaction ìƒì„± (status = PENDING)
7. PaymentClient.processPayment() í˜¸ì¶œ
   â†’ LockRetryTemplate.execute() ì‹¤í–‰

   [ì¬ì‹œë„ 1] ê²°ì œ ì‹¤íŒ¨ â†’ 1000ms ëŒ€ê¸° í›„ ì¬ì‹œë„
   [ì¬ì‹œë„ 2] ê²°ì œ ì‹¤íŒ¨ â†’ 1500ms ëŒ€ê¸° í›„ ì¬ì‹œë„
   [ì¬ì‹œë„ 3] ê²°ì œ ì‹¤íŒ¨ â†’ 2000ms ëŒ€ê¸° í›„ ì¬ì‹œë„
   [ì¬ì‹œë„ 4] ê²°ì œ ì‹¤íŒ¨ â†’ 2500ms ëŒ€ê¸° í›„ ì¬ì‹œë„
   [ì¬ì‹œë„ 5] ê²°ì œ ìµœì¢… ì‹¤íŒ¨ â†’ ì˜ˆì™¸ ë°œìƒ

8. TransactionFailed ì´ë²¤íŠ¸ ë°œí–‰
9. ì˜ˆì™¸ ì¬ì „ë‹¬ â†’ íŠ¸ëœì­ì…˜ ë¡¤ë°±ìœ¼ë¡œ ë§ˆí¬ë¨
10. íŠ¸ëœì­ì…˜ ë¡¤ë°±ë¨
    - ê³„ì¢Œ ì”ì•¡ ë³€ê²½ ë¡¤ë°±
    - Transaction ìƒíƒœ ë¡¤ë°±
11. TransactionFailureHandler.handle() ë¡¤ë°± í›„ ì‹¤í–‰
12. ìƒˆë¡œìš´ íŠ¸ëœì­ì…˜ì—ì„œ ì•Œë¦¼ ì „ì†¡ (REQUIRES_NEW)
13. notification_logs í…Œì´ë¸”ì— ì‹¤íŒ¨ ë¡œê·¸ ì €ì¥
14. Context ì •ë¦¬
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ë° ê°œë°œ

### í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew test

# íŠ¹ì • í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ì‹¤í–‰
./gradlew test --tests AccountServiceTest

# íŠ¹ì • í…ŒìŠ¤íŠ¸ ë©”ì„œë“œ ì‹¤í–‰
./gradlew test --tests AccountServiceTest.testCreateAccount
```

### ì½”ë“œ í’ˆì§ˆ

- **Lombok**: ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œ ì œê±°
- **MyBatis XML**: ë³µì¡í•œ ì¿¼ë¦¬ ë¶„ë¦¬ ê´€ë¦¬
- **ì—´ê±°í˜•**: íƒ€ì… ì•ˆì „ì„± í™•ë³´
- **Jakarta Validation**: ì„ ì–¸ì  ìœ íš¨ì„± ê²€ì‚¬

### ê°œë°œ ê°€ì´ë“œë¼ì¸

1. **ê·œì•½ ì¤€ìˆ˜**:
   - Java ì»¨ë²¤ì…˜ ì¤€ìˆ˜ (PascalCase í´ë˜ìŠ¤, camelCase ë©”ì„œë“œ)
   - ë„¤ì´ë° ê·œì¹™ ì¤€ìˆ˜ (ì˜ë¯¸ìˆëŠ” ë³€ìˆ˜ëª…)

2. **ì»¤ë°‹ ë©”ì‹œì§€**:
   ```bash
   # Conventional Commits ì‚¬ìš©
   feat: ê³„ì¢Œ ì´ì²´ ê¸°ëŠ¥ ì¶”ê°€
   fix: ì…ê¸ˆ ì‹œ ì”ì•¡ ì—…ë°ì´íŠ¸ ë²„ê·¸ ìˆ˜ì •
   docs: README ì—…ë°ì´íŠ¸
   refactor: ì¬ì‹œë„ ë¡œì§ ë¦¬íŒ©í† ë§
   test: ê³„ì¢Œ ì„œë¹„ìŠ¤ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì¶”ê°€
   ```

3. **ì½”ë“œ ë¦¬ë·°**:
   - Pull Request ì‚¬ìš©
   - ì½”ë“œ ë¦¬ë·° í•„ìˆ˜

4. **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**:
   - ìƒˆë¡œìš´ ê¸°ëŠ¥ì€ ë°˜ë“œì‹œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
   - í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ ìœ ì§€

## ğŸš¢ ë°°í¬ ê°€ì´ë“œ

### í”„ë¡œë•ì…˜ ë°°í¬ ì¤€ë¹„

1. **ë°ì´í„°ë² ì´ìŠ¤ ë³€ê²½**:
   ```yaml
   # application-prod.yml
   spring:
     datasource:
       url: jdbc:postgresql://localhost:5432/banking
       username: ${DB_USERNAME}
       password: ${DB_PASSWORD}
       driver-class-name: org.postgresql.Driver
   ```

2. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**:
   ```bash
   export DB_USERNAME=banking_user
   export DB_PASSWORD=secure_password
   export SPRING_PROFILES_ACTIVE=prod
   ```

3. **ë³´ì•ˆ ì„¤ì •**:
   - HTTPS ì ìš©
   - ì¸ì¦/ê¶Œí•œ ê´€ë¦¬
   - CORS ì„¤ì •
   - SQL Injection ë°©ì§€ (MyBatis Prepared Statements)

4. **ë¡œê¹… ì„¤ì •**:
   ```yaml
   logging:
     level:
       com.example.rollback: INFO
       org.springframework: WARN
     file:
       name: /var/log/banking/application.log
     pattern:
       file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
   ```

### Docker ë°°í¬

**Dockerfile**:
```dockerfile
# ë¹Œë“œ ë‹¨ê³„
FROM gradle:7.5-jdk21 AS build
WORKDIR /app
COPY build.gradle settings.gradle ./
COPY src ./src
RUN gradle build --no-daemon

# ì‹¤í–‰ ë‹¨ê³„
FROM openjdk:21-slim
WORKDIR /app
COPY --from=build /app/build/libs/*.jar app.jar
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "/app.jar"]
```

**docker-compose.yml**:
```yaml
version: '3.8'
services:
  banking-app:
    build: .
    ports:
      - "8080:8080"
    environment:
      - SPRING_DATASOURCE_URL=jdbc:postgresql://postgres:5432/banking
      - SPRING_DATASOURCE_USERNAME=banking_user
      - SPRING_DATASOURCE_PASSWORD=secure_password
      - SPRING_PROFILES_ACTIVE=prod
    depends_on:
      - postgres

  postgres:
    image: postgres:15-alpine
    environment:
      - POSTGRES_DB=banking
      - POSTGRES_USER=banking_user
      - POSTGRES_PASSWORD=secure_password
    volumes:
      - postgres-data:/var/lib/postgresql/data
    ports:
      - "5432:5432"

volumes:
  postgres-data:
```

### ë°°í¬ ëª…ë ¹ì–´

```bash
# Docker ë¹Œë“œ
docker build -t banking-system .

# Docker ì‹¤í–‰
docker run -p 8080:8080 banking-system

# Docker Compose ì‹¤í–‰
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f banking-app
```

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œ

#### 1. í¬íŠ¸ ì¶©ëŒ

**ë¬¸ì œ**: `Port 8080 was already in use.`

**í•´ê²°**:
```bash
# 8080 í¬íŠ¸ ì‚¬ìš© í”„ë¡œì„¸ìŠ¤ í™•ì¸
lsof -i :8080

# ë˜ëŠ” application.ymlì—ì„œ í¬íŠ¸ ë³€ê²½
server:
  port: 8081
```

#### 2. ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”

**ë¬¸ì œ**: ì´ì „ ë°ì´í„°ë¡œ ì¸í•´ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨

**í•´ê²°**:
```bash
# ë¹Œë“œ ê²°ê³¼ ì œê±°
./gradlew clean

# ì „ì²´ ë¹Œë“œ
./gradlew build
```

#### 3. GUID í ë¬¸ì œ

**ë¬¸ì œ**: `HOSTNAME í™˜ê²½ë³€ìˆ˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`

**í•´ê²°**:
```bash
# Linux/Mac
export HOSTNAME=localhost

# Windows (PowerShell)
$env:HOSTNAME="localhost"

# ë˜ëŠ” application.ymlì—ì„œ ì„¤ì •
guid:
  hostname: localhost
```

#### 4. H2 ì½˜ì†” ì ‘ì† ì‹¤íŒ¨

**ë¬¸ì œ**: H2 ì½˜ì†” ì—°ê²° ì•ˆë¨

**í•´ê²°**:
```yaml
# application.ymlì—ì„œ H2 ì½˜ì†” í™œì„±í™” í™•ì¸
spring:
  h2:
    console:
      enabled: true
      path: /h2-console
```

### ë¡œê·¸ í™•ì¸

```bash
# ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
tail -f application.log

# Gradle ë¹Œë“œ ë¡œê·¸
./gradlew build --info

# DEBUG ë ˆë²¨ ë¡œê¹…
# application.yml
logging:
  level:
    com.example.rollback: DEBUG
```

## ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤

### í•™ìŠµ ìë£Œ

- [Spring Boot ê³µì‹ ë¬¸ì„œ](https://spring.io/projects/spring-boot)
- [MyBatis ê³µì‹ ë¬¸ì„œ](https://mybatis.org/mybatis-3/)
- [íŠ¸ëœì­ì…˜ ê´€ë¦¬ ê°€ì´ë“œ](https://docs.spring.io/spring-framework/reference/data-access/transaction.html)
- [ì¬ì‹œë„ íŒ¨í„´](https://docs.microsoft.com/en-us/azure/architecture/patterns/retry)

### ê´€ë ¨ í”„ë¡œì íŠ¸

- [Spring Data JPA](https://spring.io/projects/spring-data-jpa)
- [Spring Batch](https://spring.io/projects/spring-batch)
- [Spring Security](https://spring.io/projects/spring-security)

## ğŸ¤ ê¸°ì—¬

ì´ í”„ë¡œì íŠ¸ëŠ” êµìœ¡ìš©ìœ¼ë¡œ ì œê³µë©ë‹ˆë‹¤. ììœ ë¡­ê²Œ ë‹¤ìŒì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- âœ… ë‹¤ì–‘í•œ íŠ¸ëœì­ì…˜ ì‹œë‚˜ë¦¬ì˜¤ ì‹¤í—˜
- âœ… ìƒˆë¡œìš´ ì€í–‰ ê¸°ëŠ¥ ì¶”ê°€ (ëŒ€ì¶œ, ì¹´ë“œ ë“±)
- âœ… ì„±ëŠ¥ ìµœì í™” ë° ì¸ë±ìŠ¤ íŠœë‹
- âœ… ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ (PostgreSQL, MySQL, Oracle)
- âœ… ì¶”ê°€ì ì¸ ì‹¤íŒ¨ ì²˜ë¦¬ íŒ¨í„´ êµ¬í˜„
- âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ë° í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„±
- âœ… CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•
- âœ… ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹… ì‹œìŠ¤í…œ ê°•í™”

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” êµìœ¡ ëª©ì ìœ¼ë¡œ ì œê³µë©ë‹ˆë‹¤.

**MIT License**

---

<div align="center">

**Made with â¤ï¸ for Learning Enterprise Development**

[â¬† Back to Top](#-ì€í–‰-ê³„ì¢Œ-ê´€ë¦¬-ì‹œìŠ¤í…œ)

</div>